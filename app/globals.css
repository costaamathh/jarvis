@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============== TOKENS =============== */
:root{
  --header-h: 120px;

  /* Mais respiro para pílulas orbitarem em volta do conteúdo do HERO */
  --hero-top: clamp(64px, 10vh, 120px);

  /* Distância ENTRE seções (não contínuo) */
  --section-gap: clamp(64px, 11vh, 128px);

  /* antes 4px; agora um deslocamento claro */
  --logo-nudge-x: 12px;

  color-scheme: dark;
}

/* Mobile: um pouco menor mas ainda com presença */
@media (max-width: 768px){
  :root{
    --header-h: 104px;
    --hero-top: clamp(48px, 8vh, 88px);
    --section-gap: clamp(48px, 9vh, 96px);
  }
}

/* ===== Scroll global ===== */
html{ scroll-behavior:smooth; }

/* =============== HEADER (claro + blur) =============== */
.header-surface{
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  /* Tira qualquer tom azulado do header */
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
  border-bottom: 1px solid rgba(255,255,255,.12);
}

/* =============== FUNDO (GRAFITE, sem azul) =============== */
html, body { min-height: 100%; }
body{
  color:#fff;
  /* Troca #1C212B/#11161C (tendem ao azul) por tons grafite neutros */
  background:
    radial-gradient(1200px 800px at 16% 18%, #171A20 0%, rgba(23,26,32,.55) 35%, transparent 68%),
    radial-gradient(1100px 720px at 84% 12%, #0F1216 0%, rgba(15,18,22,.55) 35%, transparent 68%),
    linear-gradient(180deg, #0C0F13 0%, #0A0C0F 100%);
  background-attachment: fixed,fixed,fixed;
}

/* =============== SEÇÕES =============== */
.section-hero{
  /* ocupa a viewport e CENTRALIZA o conteúdo */
  min-height: 100svh;
  display: grid;
  place-content: center;

  /* mantém proteção contra o header fixo e adiciona respiro extra acima */
  padding-top: calc(var(--header-h) + clamp(28px, 4vh, 56px));
  padding-bottom: calc(var(--section-gap) * .40);
}
.section{
  padding-top: calc(var(--section-gap) * .70);
  padding-bottom: calc(var(--section-gap) * .70);
}

/* Performance optimized focus/blur effects */
.section, .section-hero{
  transition: opacity 240ms ease, transform 320ms ease;
  will-change: opacity, transform;
  backface-visibility: hidden;
}

/* estado normal (em foco) */
.section[data-active="true"], .section-hero[data-active="true"]{
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: none;
}

/* fora do foco — SEM blur pesado: só opacidade + scale sutil */
.section[data-active="false"], .section-hero[data-active="false"]{
  opacity: .55;
  transform: translateY(6px) scale(.992);
  filter: none; /* <- sem filter pesado por padrão */
  transition: opacity 240ms ease, transform 320ms ease;
  will-change: opacity, transform;
  backface-visibility: hidden;
}

/* se ainda quiser um toque de blur, aplique numa camada pequena (overlay) */
.section[data-active="false"] .frost {
  position: absolute;
  inset: 0;
  pointer-events: none;
  /* blur bem baixo + leve escurecida – muito mais barato */
  backdrop-filter: blur(2px);
  background: rgba(0,0,0,.05);
  border-radius: inherit;
}

/* Legacy support for current implementation */
.section.is-dim, .section-hero.is-dim{
  opacity:.55; transform: translateY(6px) scale(.992); pointer-events:none; z-index:0;
}
.section.is-active, .section-hero.is-active{ opacity:1; transform:none; z-index:1; }

@media (prefers-reduced-motion:reduce){
  .section.is-dim, .section-hero.is-dim,
  .section[data-active="false"], .section-hero[data-active="false"]{
    filter:none; opacity:.8; transform:none;
  }
}

/* Header/footer apenas para referência */
.header{ height: var(--header-h); }
.footer{ padding-block: clamp(28px, 4.5vh, 52px); }

/* container inner para conteúdo */
.section-inner {
  @apply container max-w-7xl mx-auto px-4 md:px-6;
}

/* escalas proporcionais aumentadas */
.h1 {
  font-size: clamp(3.6rem, 6vw, 5.6rem);
  line-height: 1.05;
  font-weight: 800;
}
.h2 {
  font-size: clamp(2.2rem, 3.4vw, 3rem);
  line-height: 1.15;
  font-weight: 700;
}
.lead {
  font-size: clamp(1.25rem, 1.6vw, 1.5rem);
  color: #E5E7EB;
}

/* =============== GLASS (sem tom azul) =============== */
.glass{
  backdrop-filter: blur(18px);
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 20px;
  /* Se havia brilho arroxeado exagerado, mantemos sutil */
  box-shadow: 0 14px 48px rgba(0,0,0,.45), 0 0 18px rgba(124,58,237,.18);
  transition: box-shadow .25s ease, transform .25s ease, background .25s ease;
}
.glass:hover{
  box-shadow: 0 18px 64px rgba(0,0,0,.55), 0 0 28px rgba(124,58,237,.30);
  background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.08));
  transform: translateY(-2px);
}

.btn-primary {
  @apply inline-flex items-center justify-center font-semibold
         bg-primary text-primary-foreground hover:bg-primary/90 hover:scale-105 focus-visible:ring-2
         focus-visible:ring-primary/40 transition;
  height: 56px;
  padding: 0 24px;
  border-radius: 20px;
}

.btn-secondary {
  @apply inline-flex items-center justify-center font-semibold
         border border-white/15 text-white hover:bg-white/5 hover:scale-105 transition;
  height: 56px;
  padding: 0 24px;
  border-radius: 20px;
}

.icon { @apply text-white; }

/* inputs grandes */
.input {
  @apply w-full bg-graphite-600/80 border border-white/10 px-4 py-4
         placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/40;
  border-radius: 16px;
  font-size: 1rem;
}

.checkbox { @apply accent-[#7C3AED]; }

/* badges e mini-features */
.badge {
  @apply px-3 py-1.5 text-sm rounded-full bg-white/5 border border-white/10;
}

.mini-feature {
  @apply flex items-center gap-2 text-gray-300;
}

/* =============== HERO WRAPPER E PÍLULAS ORBITAIS =============== */
/* Wrapper do núcleo do hero para posicionar pílulas ao REDOR */
.hero-core{
  position: relative;
  width: min(980px, 94vw);
  margin-inline: auto;
}

/* Camada com o texto/botões do hero (acima das pílulas) */
.hero-stack{
  position: relative;
  z-index: 2;
}

/* Mantém a "área orbital", mas dá mais folga lateral/vertical */
.pills.orbit{
  position: absolute;
  inset: -30% -28% -36% -28%;
  z-index: 1;              /* atrás do texto, mas visíveis ao redor */
  pointer-events: none;
}

/* Legacy pills container (mantido para compatibilidade) */
.pills{
  position: relative;
  width: min(980px, 94vw);
  height: clamp(150px, 22vh, 220px);  /* mais alto para ficar AO REDOR */
  margin: 18px auto 0;
  pointer-events: none; /* pílulas não "atrapalham" o mouse */
}
.pill{
  position: absolute;
  display: inline-flex; align-items:center; gap:8px;
  padding: 8px 14px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.15);
  /* tira qualquer azul do gradiente da pílula */
  background: radial-gradient(120% 120% at 30% 20%, rgba(124,58,237,.24), rgba(255,255,255,.06));
  box-shadow: 0 8px 30px rgba(0,0,0,.35);
  font-size: clamp(.85rem, 1.1vw, .95rem);
  color: #E8EAF0;
  white-space: nowrap;
  opacity:.95;
}

/* animações suaves */
@keyframes float-a{ 0%{ transform:translate(-6%,-12%) rotate(-2deg)} 50%{transform:translate(6%,8%) rotate(2deg)} 100%{transform:translate(-6%,-12%) rotate(-2deg)} }
@keyframes float-b{ 0%{ transform:translate(10%,-10%) rotate(1deg)} 50%{transform:translate(-8%,10%) rotate(-1deg)} 100%{transform:translate(10%,-10%) rotate(1deg)} }
@keyframes float-c{ 0%{ transform:translate(-10%,8%) rotate(-1deg)} 50%{transform:translate(8%,-6%) rotate(1deg)} 100%{transform:translate(-10%,8%) rotate(-1deg)} }
@keyframes float-d{ 0%{ transform:translate(6%,10%) rotate(1deg)} 50%{transform:translate(-6%,-8%) rotate(-1deg)} 100%{transform:translate(6%,10%) rotate(1deg)} }
@keyframes float-e{ 0%{ transform:translate(-8%,-6%) rotate(-2deg)} 50%{transform:translate(8%,10%) rotate(2deg)} 100%{transform:translate(-8%,-6%) rotate(-2deg)} }
@keyframes float-f{ 0%{ transform:translate(6%,-4%) rotate(1deg)} 50%{transform:translate(-4%,8%) rotate(-1deg)} 100%{transform:translate(6%,-4%) rotate(1deg)} }

/* Mapa de distribuição — top/centro/bottom e esquerda/direita */
.pill-a{ left: -22%; top: 6%; animation: float-a 14s ease-in-out infinite; }  /* topo-esq bem fora */
.pill-b{ right: -22%; top: 8%; animation: float-b 16s ease-in-out infinite; } /* topo-dir bem fora */

/* meio-esq / meio-dir (altura intermediária ~40%) */
.pill-c{ left: -16%; top: 40%; animation: float-c 18s ease-in-out infinite; }
.pill-d{ right: -16%; top: 42%; animation: float-d 17s ease-in-out infinite; }

/* cantos inferiores: descem de verdade */
.pill-e{ left: -18%; bottom: -10%; animation: float-e 15s ease-in-out infinite; }
.pill-f{ right: -20%; bottom: -12%; animation: float-f 19s ease-in-out infinite; }

/* Mobile: menos agressivo, mas ainda visível nas laterais */
@media (max-width: 520px){
  .pills{ height: 160px; }
  .pill{ padding: 6px 12px; }
  .pills.orbit{ inset: -24% -16% -28% -16%; }

  .pill-a{ left: -12%; top: 8%; }
  .pill-b{ right: -12%; top: 9%; }
  .pill-c{ left: -8%; top: 38%; }
  .pill-d{ right: -8%; top: 40%; }

  .pill-e{ left: -10%; bottom: -8%; }
  .pill-f{ right: -10%; bottom: -10%; }
}

/* =============== NOTION ~1 tela =============== */
.section-notion{
  min-height: 92svh;      /* ocupa praticamente 1 tela, como você quer */
  display: grid;
  align-items: center;
  position: relative;
}

/* ajuda a segurar imagens atrás do texto caso sobrem */
.section-notion .frame{ z-index: 1; }
.section-notion .order-1{ z-index: 20; position: relative; }

/* em telas muito pequenas, aproxima tudo um pouco */
@media (max-width: 520px){
  .section-notion{ min-height: 80svh; }
}

.notion-shots{
  width: clamp(320px, 46vw, 760px);
  min-height: clamp(220px, 30vw, 460px);
  position: relative;
}

/* Moldura base */
.notion-shots .shot{
  position: absolute;
  border-radius: 16px;
  overflow: hidden;
}

/* Traseira — menor e para cima/esquerda (fica BEM visível) */
.notion-shots .shot-back{
  width: clamp(300px, 36vw, 620px);
  transform: translate(-8%, -12%) rotate(-1.2deg);
  z-index: 5;
  filter: drop-shadow(0 10px 24px rgba(0,0,0,.35));
}

/* Frente — maior e para baixo/direita, mas sem cobrir demais */
.notion-shots .shot-front{
  width: clamp(340px, 40vw, 700px);
  transform: translate(8%, 6%) rotate(0.8deg);
  z-index: 6;
  filter: drop-shadow(0 14px 28px rgba(0,0,0,.42));
}

/* Arremate de borda sutil */
.notion-shots .shot::after{
  content: "";
  position: absolute; inset: 0;
  border: 1px solid rgba(255,255,255,.06);
  border-radius: inherit;
  pointer-events: none;
}

/* Mobile: aproxima e reduz um pouco a frente para não esconder a traseira */
@media (max-width: 520px){
  .notion-shots{ width: 92vw; min-height: 58vw; }
  .notion-shots .shot-back{
    width: 72vw;
    transform: translate(-5%, -8%) rotate(-1deg);
  }
  .notion-shots .shot-front{
    width: 78vw;
    transform: translate(5%, 6%) rotate(.8deg);
  }
}

/* Respiro entre título, texto e CTA */
.notion-copy{
  display: grid;
  gap: clamp(12px, 1.8vh, 24px);
  max-width: 520px; /* garante coluna legível e com ar */
}

/* Título levemente menor e com linha mais solta */
.notion-copy h2,
.notion-copy h3{
  font-size: clamp(2.4rem, 3.6vw, 3.2rem) !important; /* ~2px a menos do que estava */
  line-height: 1.15;
  letter-spacing: 0.1px;
}

/* Parágrafos e lista: leitura confortável */
.notion-copy p,
.notion-copy li{
  font-size: clamp(1.15rem, 1.6vw, 1.35rem) !important; /* -0.5 ~ -1px no máximo */
  line-height: 1.6;
  opacity: .92;
}

/* Botão com folga extra em relação ao texto antes */
.notion-copy .btn,
.notion-copy .cta{
  margin-top: clamp(8px, 1.2vh, 14px);
}

/* Em telas pequenas, mantém boa leitura */
@media (max-width: 520px){
  .notion-copy{ gap: clamp(14px, 2.6vh, 22px); }
  .notion-copy h2,
  .notion-copy h3{ font-size: clamp(2.2rem, 6vw, 2.6rem) !important; }
}

/* ===== NOTION (molduras maiores) ===== */
.frame{
  border: 1px solid rgba(255,255,255,.15);
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 22px 64px rgba(0,0,0,.5);
}

/* =========================
   FAQ maior (mantido)
   ========================= */
.accordion-wrap{ max-width: min(96vw, 1000px); margin-inline:auto; }
.accordion-item{
  border: 1px solid rgba(255,255,255,.16);
  border-radius: 16px;
  background: rgba(255,255,255,.06);
  box-shadow: 0 12px 36px rgba(0,0,0,.38);
  transition: background .2s ease, transform .2s ease, box-shadow .2s ease;
}
.accordion-item:hover{ background: rgba(255,255,255,.08); transform: translateY(-1px); }
.accordion-trigger{ font-size: clamp(1.08rem, 1.6vw, 1.22rem); padding: 18px 22px; }
.accordion-panel{ font-size: clamp(1rem, 1.35vw, 1.12rem); padding: 18px 22px 22px; color: #D6DAE0; }

/* accordion estilizado (legado) */
.accordion-summary {
  @apply p-6 cursor-pointer font-semibold text-white list-none;
}

.accordion-content {
  @apply px-6 pb-6 text-gray-300;
}

/* scroll offset para âncoras */
[id] {
  scroll-margin-top: 88px;
}

/* Faixa com fundo sutil (sem card) */
.band {
  position: relative;
  isolation: isolate;
}
.band::before{
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(900px 520px at 80% 25%, rgba(124,58,237,.16), transparent 60%),
    radial-gradient(800px 460px at 10% 80%, rgba(99,102,241,.12), transparent 60%);
  opacity: .9;
  z-index: -1;
}